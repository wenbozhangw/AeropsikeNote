## namespace 参数配置

| name | default | subcontext | tag | note |
|--- | --- | --- | --- |---|
| ~~allow-nonxdr-writes~~ | true | | Introduced: 3.5.12 Removed : 5.0.0 | 在 Aerospike 5.0 中，此参数已替换为 `reject-non-xdr-writes`。用于控制非 XDR 客户端执行的写操作的参数。将其设置为 false 将禁止来自非 XDR 客户端（任何常规客户端库）的所有写入。此参数对于控制非 XDR 客户端在不期望的情况下意外写入命名空间很有用，并且可用于仅从 XDR 客户端进行写入的命名空间。设置为 false 时，将返回错误代码 10，并标记 `fail_xdr_forbidden` 统计信息。<br/> 将 allow-nonxdr-writes 设置为 false: <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;allow-nonxdr-writes=false"` <br/> 对于3.8之前的版本（xdr是与asd分开的进程），要动态更改，您必须以ASD的服务端口（而非XDR）为目标。 |
| allow-ttl-without-nsup | false | | Introduced : 4.9 | Aerospike强烈建议您不要更改此设置。请参阅下面的警告。 如果禁用了数据 expiration 和 eviction ( `nsup-period` 设置为0，即默认值 )，则将 `allow-ttl-without-nsup` 设置为 true 将允许使用非零 TTL 的记录写入（否则将不允许这么做）。 <br/> 将 allow-ttl-without-nsup 设置为 true : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;allow-ttl-without-nsup=true"` <br/> 有关其他讨论，请参阅 [Namespace Data Retention Configuration](https://docs.aerospike.com/docs/operations/configure/namespace/retention/index.html) <br/> 如果 `nsup-period` 为0（默认值），但`default-ttl`为非零，则服务器将不会启动，除非将此设置设置为true。 |
| ~~allow-xdr-writes~~ | true | | Introduced: 3.5.12 Removed : 5.0.0 | 在 Aerospike 5.0 中，此参数已替换为 `reject-xdr-writes`。 用于控制是否接受来自 XDR 客户端的写入操作的参数。将其设置为 false 将禁止来自 XDR 客户端（在目标集群）的所有写操作，并且仅允许非 XDR 客户端写事务。此参数对于控制 XDR 客户端的意外写入很有用。设置为false时，将返回错误代码10，XDR将不会记录不允许的写操作，并且将在远程（目标）群集上标记 fail_xdr_forbidden 统计信息。<br/> 将 allow-xdr-writes 设置为 false: <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;allow-xdr-writes=false"` <br/> 对于3.8之前的版本（xdr是与asd分开的进程），要动态更改，您必须以ASD的服务端口（而非XDR）为目标。 |
| background-scan-max-rps | 10000 | | Introduced: 4.7.0 | 后台扫描 (即 UDF 或 ops scan) 允许的最大 records per second (rps)。如果必要，将限制扫描速度，以使其不超过该 rps 值。 值范围 : 1-10000000 。 <br/> 将 background-scan-max-rps 设置为 6000 : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;background-scan-max-rps=6000"` <br/> 顾名思义，此限制仅适用于后台或UDF扫描。为了限制基本扫描，应使用特定的客户端策略设置。这些内容在适用的客户端API文档中的“扫描策略”中进行了描述。 | 
| cache-replica-writes | false | storage-engine device | Introduced : 4.8.0 | 控制是否将复制副本写入放到 post-write 队列中。设置为 true 可以在某些情况下提高性能。对于 `data-in-memory` 命名空间，不能将其设置为 true。 <br/> 建议在使用客户端 [rack-aware](https://docs.aerospike.com/docs/architecture/rack-aware.html) 时，或者在使用具有全部 `replication-factor` 的随机读取模式时，将其设置为 true。 |
| `compression` | none | storage-engine device or pmem | `enterprise` Introduced : 4.5.0 (device) 4.8.0 (pmem) | 选项 : none, lz4, snappy, zstd. <br/> 使用压缩需要在 `feature-key-file` 中启用功能，并指定用于压缩 SSD 或 pmem 存储文件上的记录的算法。对于 zstd，可以指定 `compression-level` 。 <br/> 从版本 4.5.3.2 开始，wire format storage 还用作复制，迁移和重复解析，在使用压缩时提供潜在的显着网络带宽和CPU使用率。 <br/> 将命名空间的压缩算法设置为 zstd: <br/> `asinfo -v 'set-config:context=namespace;id=namespaceName;compression=zstd'` <br/> 请注意，压缩不允许写入大于配置的写入块大小（对于 pmem 固定为 8MB ）的记录，即使它们的压缩大小小于写入块的大小也是如此。压缩发生在存储和结构层。支持在不同的节点上使用不同的压缩选项进行基准测试。对于Aerospike 4.9之前的Aerospike版本，请勿动态设置 `storage-engine memory` 的压缩率。这可能会损坏内存并导致服务器崩溃。 |
| `compression-level` | 0 | storage-engine device or pmem | `Entriprise` Introduced : 4.5.0 (device) 4.8.0 (pmem) | 注意：这是 `storage-engine` 的 `compression-level` ，而不是dc `namespace` 的XDR `compression-level`。向下查看该参数。 <br/> 允许范围：1-9 <br/> 与zstd压缩一起使用的压缩级别。控制压缩速度和压缩比之间的权衡。较高的级别值（例如9）意味着压缩效率更高，但压缩速度更慢。较低的水平值（例如1）意味着效率较低，但压缩速度更快。请注意，仅在使用 `compression zstd` 时才应指定此项目。 <br/> 在4.6.x之前的Aerospike Server版本中，如果在使用 `compression zstd` 时从未指定此设置，则会显示默认标志0，并将使用压缩级别9。 <br/> 在Aerospike Server 4.6.x或更高版本中，如果在使用 `compression zstd` 从未指定此设置，则会显示默认标志9，并将使用压缩级别9。 <br/> [compression configuration directives](https://docs.aerospike.com/docs/operations/configure/namespace/storage/compression.html#configuration) 属于命名空间的storage-engine部分。 <br/> 将命名空间的压缩级别设置为 1 : `asinfo -v 'set-config:context=namespace;id=namespaceName;compression-level=1'` | 
| conflict-resolution-policy | generation | | | 此设置可以设置为 `last-update-time` 或 `generation` <br/> - `generation` : 根据记录的 `generation` 解决记录冲突。 <br/> - `last-update-time` 根据记录的最后更新时间（版本 3.8.3 及更高版本）解决记录冲突。 <br/> - `ttl` 根据记录的ttl解决记录冲突。 （从3.8.3版开始已过时）。 <br/> 该参数不会影响冷重启冲突解决策略。对于 3.8.3 及更高版本，冷重启冲突解决方案始终使用 `last-update-time`。对于在3.8.3之前创建的记录，冷启动解决将回退到 `generation` 。同样，在相等的上次更新时间的情况下，将会使用 `generation` 决定。 <br/> 在更新频率很高的记录上， generation 可以退回为 0（每条记录最多 65K generation number）。在 AP 模式下（ `storage-consistency` 设置为 false ），当集群重组时，网络分区可能导致更新丢失。对于爆率记录历史记录更重要的用例（例如，在每个更新上附加了 lists or maps），generation 可能更加适合，而对于保留最新更新时间的用例，使用 `last-update-time` 更合适。 <br/> 将 conflict-resolution-policy 设置为 last-update-time : `asinfo -v "set-config:context=namespace;id=namespaceName;conflict-resolution-policy=last-update-time"` <br/> 启用强一致性时，不可配置（在这种情况下，既不是 `generation` 也不是 `last-update-time`，而是 `last-update-time` 和 `regime` 的组合）。 |
| `conflict-resolve-writes` | false | | `Enterprise` Introduced : 5.4.0 | 此配置对于 XDR bin 融合功能是必须的。如果启用此选项，则将存储bin级的上次更新时间，并将其用于确定获胜者。如果关闭此选项，则bin级的上次更新时间将被丢弃，并且无法确定最新写入。如果为命名空间打开的 `single-bin`，则无法打开此配置。请参阅 [bin convergence](https://docs.aerospike.com/docs/operations/configure/cross-datacenter/bin_convergence.html) 功能文档。 <br/>  动态设置 conflict-resolve-writes : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;conflict-resolve-writes=true"` | 
| **default-ttl** | 0 | | | 从创建或上一次更新开始的记录的默认 time-to-live （以秒为单位）。该记录将在此事件之后在系统中过期。从版本 3.8.3 开始，不允许超过 `max-ttl` 值。 从版本 4.5.1 开始，`max-ttl` 不再存在，但默认的 ttl 上限为十年 （3650D）。 <br/> 支持以下后缀: <br/> - S Second <br/> - M minute <br/> - H Hour <br/> - D Day <br/> `default-ttl 60D` <br/> 将 default-ttl 设置为 60D : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;default-ttl=30D"` <br/> 可以通过API覆盖。 0表示永生。 <br/> 减少现有记录的 TTL （或发出不持久的删除）可能会导致记录的旧版本在冷重启后恢复。有关更多详细信息，参考 [Issues with clod-start resurrecting deleted records](https://discuss.aerospike.com/t/issues-with-cold-start-resurrecting-deleted-records/3930) -> [冷启动恢复已删除记录的问题](../../static/namespace/cold-start/issues/ColdStartResurrectingDeletedRecords.md) 。 <br/> 从4.9版开始，如果 `default-ttl` 为非零，但 `nsup-period` 为0（默认值），则服务器将不会启动，除非 `allow-ttl-without-nsup` 设置为true。从版本4.9.0.12、5.0.0.13和5.1.0.10开始，动态设置default-ttl时也会强制执行相同的限制。 |
| defrag-lwm-pct | 50 | storage-engine device or pmem | | 填充百分比小于指定限制的块将被标记为可进行碎片整理。 <br/> 将 defrag-lwm-pct 设置为 55 : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;defrag-lwm-pct=55"`  <br/> 百分比越高，意味着要整理的磁盘碎片越多，磁盘上的数据越密集。 请勿将该值设置为100％或更高，因为这会使系统陷入无尽的繁忙循环。 | 
| ~~defrag-max-blocks~~ | 4000 | storage-engine device | Removed : 3.3.17 | 每次运行时最多对指定数量的磁盘块进行碎片整理。 |
| ~~defrag-period~~ | 1 | storage-engine device | Removed : 3.3.17 | 间隔（以秒为单位），在此间隔内，碎片整理将扫描所有块并标记有资格进行碎片整理的块。 <br/> 在极端情况下可以将其设置为0，但应仔细监视磁盘的 I/O 及其对延迟的影响。有关有资格进行碎片整理的块的标准，请参阅 `defrag-lwm-pct` 。 |
| defrag-queue-min | 0 | storage-engine device or pmem | Introduced : 3.4.0 | 除非队列中有这么多合格的 wblocks，否则请不要进行碎片整理。 <br/>  将 defrag-queue-min 设置为 10: <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;defrag-queue-min=10"` <br/> 通过允许写块在队列上停留更长时间，并且在处理时可能几乎是空的，这可以减少不频繁记录重写或定期记录清除的用例的写放大。 |
| defrag-sleep | 1000 | storage-engine device or pmem | Introduced : 3.3.17 | 每个 wblock 进行整理后，要休眠的微秒数。<br/> 将 defrag-sleep 设置为 500 : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;defrag-sleep=500"` <br/> 碎片整理睡的第二种用法是定义，当由于写入队列溢出，而限制碎片整理时，检查写入队列的时间间隔。详细 [KB article](https://discuss.aerospike.com/t/faq-how-does-aerospike-defragmentation-behave-with-respect-to-write-queues/8016) 。 |
| ~~disable-nsup~~ | false | | Introduced: 4.3.0.2 Removed : 4.5.1 | 从版本 4.5.1 开始删除。将 nsup-period 设置为 0 以禁用 nsup。 如果为 true，则仅对此命名空间禁用 NSUP 主索引缩减。当 `disable-nsup` 为 true 时，每个 `nsup-period` 间隔都将类似于该实例。 <br/> example ： <br/> `Jul 19 2018 17:16:17.936 GMT-0700: INFO (nsup): (thr_nsup.c:892) (test) nsup-skipped` |
| disable-write-dup-res | false | | Introduced : 3.15.1.3 | 禁用为命名空间写入重复解析。仅适用于 AP 命名空间（未启用 `strong-consistency`）。 从节点维护/故障或分区中恢复时，需要重复处理。在这种情况下，节点将在应用更新之前追踪记录的不同版本。仅在迁移中可能存在给定分区的多个版本时，这才使用。 <br/> 设置为 true 将禁用写重复解析，这可以提高迁移期间的写性能，但也可能导致更新丢失。 |
| disallow-null-setname | | | | 如果在没有 set name 的情况下启用此配置，则记录写入尝试将出错。 <br/> 默认情况下，Aerospike 允许使用带有和不带有 set name 的写入。如果发送的记录没有 set name，则会为其分配一个 'null' set。如果启用此配置，则任何不带 set name 的记录都将不允许写入命名空间。“错误代码4AEROSPIKE_ERR_REQUEST_INVALID”将被发送回客户端。此外，将使用消息 null/empty set name 不适用于命名空间的消息记录警告到服务器。 <br/> 确保在所有节点上统一设置配置。如果不这样做，将导致一种情况，即一个节点将允许这种空 set 记录，而其他节点则不允许。 <br/> 动态开启配置 : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;disallow-null-setname=true"` |
| enable-benchmarks-batch-sub | false | | Introduced : 3.9 | 启用批处理子 transaction 的直方图。有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。 <br/> 启用配置的直方图的列表 : <br/> enable-benchmarks-batch-sub <br/> - enable-benchmarks-fabric <br/> - enable-benchmarks-ops-sub <br/> - enable-benchmarks-read <br/> - enable-benchmarks-storage <br/> - enable-benchmarks-svc (4.7-) <br/> - enable-benchmarks-udf <br/> - enable-benchmarks-udf-sub <br/> - enable-benchmarks-write <br/> - enable-hist-info <br/> - enable-hist-proxy <br/> - sindex-histogram <br/> 将 enable-benchmarks-batch-sub 设置为 true : <br/> `asinfo -v 'set-config:context=namespace;id=<namespaceName>;enable-benchmarks-batch-sub=true'` |
| enable-benchmarks-ops-sub | false | | Introduced : 3.9 | 启用操作子 transactions 的直方图。有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。|
| enable-benchmarks-read | false | | Introduced : 3.9 | 启用read transactions 的直方图。有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) |
| enable-benchmarks-storage | false | storage-engine device or pmem | Introduced : 3.9.0 (device) 4.8.0 (pmem) | 启用存储访问的直方图。有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。 |
| enable-benchmarks-udf | false | | Introduced : 3.9 | 启用 udf transactions 的直方图。 有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。|
| enable-benchmarks-udf-sub | false | | Introduced : 3.9 | 启用 udf sub transactions 的直方图。 有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。|
| enable-benchmarks-write | false | | Introduced : 3.9 | 启用 write transactions 的直方图。 有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。|
| enable-hist-proxy | false | | Introduced : 3.9 | 启用 proxy transactions 的直方图。有关详细信息，请参阅 [Histograms from Aerospike Logs](https://docs.aerospike.com/docs/operations/monitor/latency/index.html) 。|
| ~~enable-xdr~~ | false | | Removed : 5.0.0 | 在命名空间级别，这控制是否将摘要日志条目写入摘要日志。因此，这实际上控制着记录是否正在全局通过 XDR 传送，假设已配置 DC 并可用，启用 `xdr-shipping` 的功能将保证其默认值（true），并且在 XDR 节点级别将 `enable-xdr` 配置设置为 true。链接到命名空间的已配置 DC 将独立于此配置的值进行连接。为了防止建立连接，您将需要   a)从数据中心定义中删除所有种子节点，或 b)从所有命名空间定义中删除数据中心，或者动态地这样做以断开现有连接。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;enable-xdr=true"` |
| evict-hist-buckets | 10000 | | Introduced : 3.8 | 用于驱逐的直方图存储桶数量，必须介于 100 到 10,000,000 之间。 在下一轮驱逐中生效。 <br/> 将 `evict-hist-buckets` 设置为 200000 : <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;evict-hist-buckets=200000"` <br/> 每个存储桶占用 4 个字节的内存，因此 1000 万个存储桶意味着 40MB 的直方图。请注意，冷启动逐出是一种特殊情况，其中使用的直方图桶数至少为 100,000。也就是说，除非当前的 `evict-hist-buckets` 设置更大，否则将使用 100,000 个存储桶。 |
| evict-tenths-pct | 5 | | | 在每次逐出迭代期间，最多要删除对象的 1/10 %。 <br/>  `asinfo -v "set-config:context=namespace;id=namespaceName;evict-tenths-pct=10"` |
| flush-max-ms | 1000 | storage-engine device or pmem | Introduced : 3.3.21 (device) 4.8.0 (pmem) | 配置 Streaming Write Buffer (SWB) 在不写入 device or pmem 存储文件的情况下可以经过的最长时间。这仅在极地或间歇的写入速率时才有意义，因为写入缓冲区确实会在已满时写入 device (or pmem)。通常，不必更改此配置。详细信息,  [Buffering and Caching in Aerospike](https://discuss.aerospike.com/t/buffering-and-caching-in-aerospike/5623) 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;flush-max-ms=500"` <br/> 如果当前缓冲区中有未刷新的东西（即自上次以来的更改），则将刷新当前缓冲区。 |
| ~~fsync-max-sec~~ | 0 | storage-engine device | Introduced : 3.3.21 Removed: 4.3.1 | 设置此项将导致命名空间的设备以该间隔(以秒为单位)进行 fsync。默认情况下（0），名称空间的设备将不进行fsync（系统将酌情将数据刷新到物理设备）。详细信息,  [Buffering and Caching in Aerospike](https://discuss.aerospike.com/t/buffering-and-caching-in-aerospike/5623) 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;fsync-max-sec=1"` <br/> 有关类似的功能，请参见 `direct-files`。 <br/> fsync将数据从页面缓存（使用文件时）和硬件缓存中推送到设备。但是，这只会影响将其队列配置为 `write back` 的设备。对于 `write through` 设备，高速缓存永远不会处于脏状态或未清除状态，并且在原始使用此类设备时，此配置选项不会产生任何影响。要检查设备的标志，请对 `write_cache`文件进行分类，例如：`cat/sys/class/block/nvme0n1/queue/write_cache`。 如果设置的时间间隔短，可能会影响性能。 |
| **high-water-disk-pct** | 0 | | | 如果磁盘使用率大于此指定百分比，则将收回数据。将此参数设置为零（这是默认值）将禁用此阈值。 <br/>  `asinfo -v "set-config:context=namespace;id=namespaceName;high-water-disk-pct=60"` <br/> TTL 0的记录将不被驱逐。 TTL桶设置为首先到期的数据将首先被驱逐。 <br/> 有关其他讨论，请参阅 [Namespace Data Retention Configuration](https://docs.aerospike.com/docs/operations/configure/namespace/retention/index.html) <br/> 在Aerospike 4.9版之前，默认值为50。 <br/> 在不支持Aerospike 4.9的发行版中将此参数设置为0不受支持，并且可能会立即驱逐。 |
| **high-water-memory-pct** | 0 | | | 如果内存使用率大于此指定百分比，则将清除数据。将此参数设置为零（这是默认值）将禁用此阈值。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;high-water-memory-pct=60"` <br/> TTL 0的记录将不被驱逐。 TTL桶设置为首先到期的数据将首先被驱逐。 <br/> 有关其他讨论，请参阅 [Namespace Data Retention Configuration](https://docs.aerospike.com/docs/operations/configure/namespace/retention/index.html) <br/> 在Aerospike 4.9版之前，默认值为50。 <br/> 在不支持Aerospike 4.9的发行版中将此参数设置为0不受支持，并且可能会立即驱逐。 |
| `ignore-migrate-fill-delay` | false | | `Enterprise` Introduced : 5.2 | 仅对于 `data-in-memory` 的命名空间，将 `ignore-migrate-fill-delay` 设置为 true 会覆盖服务上下文参数 `migrate-fill-delay`， 该参数用于在“fill”迁移到通常不具有副本功能的集群节点之前设置一个时间延迟。对于某些名称空间不是持久的，并且总是需要通过迁移来立即重新填充将要重新启动且没有任何此类名称空间数据的节点的集群来说，这可能很有用。对于启用强一致性的名称空间，roster 规定了哪个节点通常将持有给定的分区，即使对于非持久化名称空间的场景，这个配置参数也不会有用。将 `ignore-migrate-fill-delay` 设置为true可以将特定名称空间的 `migration-fill-delay` 设置为0。参见 [Delaying "Fill" Migrations](https://docs.aerospike.com/docs/operations/manage/migration/delay_migrations/index.html) . <br/> 要忽略 `migration-fill-delay` 设置，并使 nameSpaceName 开始 "fill" 迁移: <br/> `asinfo -v "set-config:context=namespace;id=nameSpaceName;ignore-migrate-fill-delay=true"` | 
| ~~low-water-pct~~ | 0 | | Removed: 3.3.13 | 如果已使用的内存/磁盘百分比小于指定的限制，则到期/逐出线程将不执行任何活动。 | 
| max-cells | 12 | geo2dsphere-within | Introduced : 3.7.0.1 | 设置近似值中所需的最大单元格数。允许的最大单元格数是256。 <br/> `asinfo -v "set-config:context=namespace;id=namespacename;geo2dsphere-within-max-cells=24"` <br/> 对于4.4之前的服务器版本，最大允许值为32。 | 
| max-level | 30 | geo2dsphere-within | Introduced : 3.7.0.1 | 对于单个单元，最大深度为30，单元大小从（0.48平方厘米到0.93平方厘米）不等。这定义了要使用的单元的最小大小。 <br/> `asinfo -v "set-config:context=namespace;id=namespacename;geo2dsphere-within-max-level=25"` <br/> 无法在4.4之前的版本中动态设置。 |
| ~~max-ttl~~ | 3650D (3.8.3) | | Removed : 4.5.1 | 服务器中允许的最大TTL。不允许default-ttl超过此值（从3.8.3版开始）。也不能将其设置为10年以上（3650D）。 max-ttl不能设置为零。<br/> 支持以下后缀: <br/> - S Second <br/> - M minute <br/> - H Hour <br/> - D Day <br/> `max-ttl 365D` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;max-ttl=1500D"` <br/> 这用于阻止流氓客户端插入垃圾值。 |
| max-write-cache | 64M | storage-engine device or pmem | Introduced : 4.8.0 (pmem) | 字节数（应为 `write-block-size` 的倍数，对于 pmem 固定为 8MB），允许系统在写入失败之前保留挂起的写入块。该值是在每个设备的基础上分配的，需要在总大小计算中加以考虑。在 5.1 之前的 Aerospike 版本中，如果有任何单个设备到达 `max-write-cache`，则所有设备都将阻止客户端写入。在 Aerospike 5.1 版和更高版本中，行为已更改，以允许客户端写入，直到所有正在使用的 streaming write buffers 的总和等于设备数乘以配置的 `max-write-cache` 。 <br/> 当存储系统没有跟上时，次队列将用于尝试跟进知道它已满，然后将引发设备过载错误。使用以下命令动态增加: <br/> `asinfo -v 'set-config:context=namespace;id=namespaceName;max-write-cache=128M'` <br/> `max-write-cache` 没有最大允许值。建议使用最大值为 2047M。 `max-write-cache` 的增加意味着更多的内存使用，但是更重要的是，当存储系统运行缓慢时，这意味着更多的记录将在队列中。如果此时有一个节点意外退出（例如断电），则未刷新到磁盘（或pmem）的数据可能会大，因为队列中可能有更多数据等待保留。最终，可以跟踪日志查看使用了多少个 streaming write buffers （swb）（在下面的日志行中显示 `w-q` stat）: <br/> `device /dev/sdc: used 296160983424,` <br/> `contig-free 110637M (885103 wblocks),` <br/> `swb-free 16, w-q 0 w-tot 12659541 (43.3/s),` <br/> `defrag-q 0 defrag-tot 11936852 (39.1/s)` <br/> 更多详细信息, [Log Reference](https://docs.aerospike.com/docs/reference/serverlogmessages) 。 <br/> 当此队列已满时，将继续处理 `prole writes`, `defrag writes` 和 `writes via migration`。这可能会导致内存使用量急剧增加（因为写入队列将继续增长）。在这种情况下，要限制 `migration writes` 和 `defrag writes`，可以分别调整 [migrate-sleep](https://docs.aerospike.com/docs/reference/configuration/index.html?show-removed=1#migrate-sleep) 和 [defrag-sleep](https://docs.aerospike.com/docs/reference/configuration/index.html?show-removed=1#defrag-sleep) 。当队列已满时，删除操作也将被处理。请注意，在 5.1 版本及更高版本中添加了限制机制，以防止碎片整理过程在超出限制时使写队列不堪重负。 |
| _memory-size_ | | | `required` |命名空间的最大内存量。减少的幅度不能超过先前设置的 值的50%。有关命名空间大小调整详情，[Capacity Planning](https://docs.aerospike.com/docs/operations/plan/capacity) 。 <br/> 在4.3.0.2之前，默认值为4GiB。从4.3.0.2版本开始，要求显式配置内存大小，最小为1MiB。 <br/> 支持以下后缀 : <br/> - K Kibibyte (KiB) <br/> -M Mebibyte (MiB) <br/> -G Gibibyte (GiB) <br/> -T Tebibyte (TiB) <br/> -P Pebibyte (PiB) <br/> `memory-size 120G` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;memory-size=10G"` <br/> 这不是硬性限制。在某些特定情况下，命名空间的已用内存可能会超过此阈值。内存大小值主要用于 `high-water-memory-pct` 和 `stop-write-pct` 。应根据实例上的总可用内存（为操作系统保留足够的空间）和分配给其他命名空间的内存进行相互设置。空的未使用的命名空间仍将分配 1GiB 的共享内存（企业版）。 |
| migrate-order | 5 | | Introduced : 3.7.5 | 1到10之间的数字，该数字确定要在迁移时处理的命名空间的顺序。根据此配置，命名空间以升序处理（从最低到最高）。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;migrate-order=1"` <br/> 具有较高 `migrate-order` 的命名空间可能仍会在具有较低 `migrate-order` 的命名空间完成之前开始进行。这是对此行为的解释： <br/> 迁移以分区为单位进行。 在以下情况下，一个分区已准备好移出（迁移）：<br/> A. 该节点是一个副本，该分区需要发送到主数据库进行合并。 <br/> B. 该节点是该分区的主节点，并且已从副本接收并合并了该分区的所有不同版本。 <br/> 因此，在节点上，即使命名空间具有较低的 `migrate-order`，即使它是分区的主节点，它也必须等待副本将其副本发送给它，然后才能将合并的分区迁移回副本。为了维持严格的 `migrate-order` ，节点将只需要等待并什么都不做。但是，为了加快整个迁移过程，我们选择允许此节点迁移更高 `migrate-order` 的命名空间分区（如果它们已准备就绪）。 |
| migrate-retransmit-ms | 5000 | | Introduced : 3.11 | 在重试与迁移相关的 transaction 之前等待成功的时间(以毫秒为单位)。在3.10.1之前的版本中，这实际上是由 `transaction-retry-ms` 配置控制的。在 3.10.1 版本中，即使使用 `migrate-retransmit-ms` 并将其设置为 5000ms，也无法通过 info 协议检索它并且也无法对其进行设置。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;migrate-retransmit-ms=2500"` | 
| migrate-
| 1 | | Introduced: 3.7.5 | 每次记录迁移后要休眠的微秒数。可以将此参数减小为 0， 以加快迁移速度。 [manage migrations](https://docs.aerospike.com/docs/operations/manage/migration#speeding-up-the-migration-rate) 。 <br/>  `asinfo -v "set-config:context=namespace;id=namespaceName;migrate-sleep=0"` |
| **min-avail-pct** | 5 | storage-engine device or pmem | Introduced : 3.1.10 (device) 4.8.0 (pmem) | 当为命名空间配置的 devices 之一(或pmem文件)上的 `device_available_pct` 低于此指定百分比时，禁止写入（删除，副本写入和迁移写入除外）。 <br/> 当命名空间的利用率达到配置的 `stop-write-pct` 时，也将不允许写入。我们不建议将此值更改为低于 5%。这样做可能不能为副本写入和迁移写入留出足够的缓冲空间。这可能会导致没有足够的可用块来进行碎片整理以恢复系统，在这种情况下，节点将需要冷启动来恢复。 |
| min_level | 1 | geo2sphere-within | Introduced : 3.7.0.1 | 单个 cell 的最小深度，单位为 1 时，cell大小为85,011,012平方千米。这定义了要使用的最大 cell 的大小。 <br/> `asinfo -v "set-config:context=namespace;id=namespacename;geo2dsphere-within-min-level=5"`  <br/> 无法在4.4之前的版本中动态设置。 |
| `mounts-high-water-pct` | 0 | index-type flash, index-type pmem | `Enterprise` Introduced : 4.3.0.2 (flash) 4.5.0.1 (pmem) | 如果挂载的利用率大于此指定的百分比 ( `mount-size-limit` 的百分比)，则数据将逐出。将此参数设置为零（这是默认值）将禁用此阈值。 <br/> 其他详细信息， [Namespace Data Retention Configuration](https://docs.aerospike.com/docs/operations/configure/namespace/retention/index.html) 。 <br/> 在Aerospike 4.9版之前，默认值为80。 <br/> 在不支持Aerospike 4.9的发行版中将此参数设置为0不受支持，并且可能会立即驱逐。 |
| `mounts-size-limit` |  | index-type flash, index-type pmem | `required` `Enterprise` Introduced : 4.3.0.2 (flash) 4.5.0.1 (pmem) | 此命名空间上的安装的最大设备总空间。例如，如果有两个 100GB 的挂载点，则应该将 `mounts-size-limit` 设置为 200GB 。最小大小为 4GiB，最大大小不超过所有挂载点的总容量。这不会阻止分配的 springs 超过限制，而是根据 `mounts-high-water-pct` 配置强制驱逐记录，该配置是根据索引使用量（记录记录的数量而不是 springs 的数量来衡量的 ）。有关更多详细信息， [All Flash Capacity Sizing](https://docs.aerospike.com/docs/operations/plan/capacity/index.html#aerospike-all-flash) 。 <br/> 使用 `index-type flash 或 index-type pmem` 时需要显式设置。 |
| ~~ns-forward-xdr-writes~~ | false | | Introduced : 3.3.26 Removed : 5.0.0 | 在Aerospike 5.0中，此参数被替换为 `forward` 。此参数在命名空间级别提供细粒度的控制，以将源自另一个 XDR 的写入转发到指定的目标数据中心（在 xdr 部分中）。当xdr部分中的 `forward-xdr-writes`设置为 false 时，此参数有效。如果将 xdr 中的 `forward-xdr-writes` 设置为 true，则将转发所有命名空间，而与命名空间级别的设置无关 (`ns-forward-xdr-writes`)。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;ns-forward-xdr-writes=true"` <br/> 要动态更改，您必须以ASD的服务端口为目标，而不是XDR。如果设置为“ true”，请注意您的拓扑并确保您没有创建转发循环。 |
| nsup-hist-period | 3600 | | Introduced : 4.5.1 | 对象大小直方图以及生存时间（ttl) 直方图的更新间隔（秒）。将 `nsup-hist-period` 设置为 0 将禁用这些直方图更新。有关对象大小和 ttl 直方图的更多详细信息，参考 `histogram` 命令。 <br/> 如果 `nsup-hist-period` 动态设置为零，则随后的 info 命令（用于获取对象大小或 ttl 直方图）将返回最后生成的直方图。 |
| **nsup-period** | 0 | | Introduced : 4.5.1 | 主 expiration/eviction 线程（称为 nsup, namespace supervisor）唤醒以处理命名空间的时间间隔。 `nsup-period` 0 的默认值禁用命名空间的 `namespace supervisor` 。默认情况下，该值以秒为单位。您还可以用分钟，小时或天为单位设置此值，其表示法为 1m or 1h or 1d 。其他讨论, [Namespace Data Retention Configuration](https://docs.aerospike.com/docs/operations/configure/namespace/retention/index.html) 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;nsup-period=600"` <br/> 如果在 `nsup` 工作时将其 nsup-period 动态设置为 0，则 nsup 将在完成其当前周期，然后进入休眠状态。确保时间在集群中的各个节点之间是同步的。对于 Aerospike 4.5.1 或更高版本，对于启用 nsup (即 `nsup-period` 不为零)的每个命名空间，如果集群始终偏斜超过 40s , 写入将被挂起。确保已安装，配置并正常运行网络时间协议（NTP）或其他时间同步机制。 <br/> 在Aerospike 4.9版之前，默认值为120。 <br/> 从 Aerospike 4.9 版本开始，如果 `nsup-period` 为 0（默认值）但 `default-ttl` 为非零，则服务器将不会启动，除非 `allow-ttl-without-nsup` 设置为 true。 |
| **nsup-threads** | 1 | | Introduced : 4.5.1 | nsup 在处理命名空间时要使用的专用 expiration/eviction 线程的数量。最小 1 ，最多 128 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;nsup-threads=3"` <br/> 如果在nsup工作时动态更改 `nsup-threads` ，则nsup将完成其当前周期，然后在下一个周期应用新的线程计数。 |
| ~~obj-size-hist-max~~ | 100 | | Removed : 4.2.0.2 | 这控制 objsz 直方图的增量大小，因此，控制 objsz 直方图涵盖的记录的最大大小。 更改此值后，必须运行nsup周期才能生成更新的objsz直方图。 从4.2.0.2版本开始删除。有关其他详细信息，请参考 [histogram](https://docs.aerospike.com/docs/reference/info#histogram) 。 <br/>  `asinfo -v "set-config:context=namespace;id=namespaceName;obj-size-hist-max=200"`  <br/> 直方图始终代表 100 个存储桶。每个存储桶的大小为 `rblock * obj-size-hist-max/100` . 这将覆盖最大 `100 x 128Bytes` 或 12,5KiB 的记录，默认值为100。将此值更改为1000意味着直方图将具有100个存储桶，每个存储桶的大小为 `128 * 1000/100 = 1280` 字节。配置或动态设置中指定的任何值（不是100的倍数）都将四舍五入到最接近的100。有关更多详细信息，请参见 [hist-dump](https://docs.aerospike.com/docs/reference/info/index.html?show-removed=1#hist-dump) 。 |
| post-write-queue | 256 | storage-engine device | | 写入块缓冲区保留为高速缓冲（每个设备）。仅适用于非 `data-in-memory` 存储配置。3.16之前的版本的最大允许值为2048，3.16到4.6的最大允许值为4096，4.7和更高版本的最大允许值为8192。参考 `cache_read_pct` 值，以了解后期写入队列正在处理多少读取工作流。 XDR 用例将利用 `post-write-queue`，因为准立即读取写入内容将被传送到目标集群。还可以考虑将 `read-page-cache` 配置参数用于利用页面高速缓存并帮助处理读取密集型工作负载的延迟。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;post-write-queue=512"`  <br/> 为此的内存分配取决于 `write-block-size` 和设备数量。例如，在具有2个设备和128KiB写块大小的命名空间上，分配的默认内存将为2 x 256 x 128KiB。例如，对于2个设备，将该值设置为2048将使用2 x 2048 x 128KiB（512MiB）。另外，请注意，`post-write-queue` 中的wblock不符合进行碎片整理的条件。因此，`post-write-queue` 应该比整个设备大小保持较小，因为分配给`post-write-queue`的大小不会进行碎片整理。 |
| `prefer-uniform-balance` | true | | `unanimous` `enterprise` Introduced : 4.3.0.2 | 如果为 true，则此命名空间将努力将分区平均分配给所有节点。从Aerospike Server 4.7版开始，默认值为true。为了实现均匀平衡，Aerospike必须放弃此命名空间的某些迁移性能。仅当永久添加或删除节点时，完成迁移所需的时间才会受到影响。即，当重新启动的节点重新加入集群时，完成迁移的时间不会受到影响。 <br/> **必须跟随一个 `reclust` 命令才能生效。** <br/> 对于启用了 `strong-consistency` 命名空间，将为 roster 中的所有节点计算 `uniform-balance` ———— 如果一个节点离线，那么该均衡将不那么统一（但很可能比不启用 `uniform-balance` 要好）。如果该节点永久性关闭或长时间关闭，则管理员可以选择从 roster 中删除脱机节点，然后发出 `recluster` 命令将分区分布重新调整为 `uniform-balance` 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;prefer-uniform-balance=true"`  <br/> 如果集群中的任何几点未将 `perfer-uniform-balance` 设置为 true，则 cluster 将恢复为不使用 uniform balance 方案。 <br/> 对于版本4.3.0.2至4.3.0.9，在群集大小上启用 `prefer-uniform-balance` 是2的幂（2、4、8、16等）会导致迁移受阻。 <br/> 对于4.7.0之前的版本，在滚动重启中启用AP名称空间中的 `prefer-uniform-balance` 并且不等待节点重启之间的增量迁移完成，可能会导致选择非最佳主服务器（这可能会导致额外的重复解析） 写入，如果未启用读取重复解析，则多余的旧读取）。 |
| `rack-id` | 0 | | `Enterprise` Introduced : 3.13.0.1 (post cluster protocol change) | 如果此名称空间应支持机架，则此节点应属于哪个机架。`rack-id` 必须是一个正整数，最大可能值为1000000。对于启用了 `strong-consistency` 的名称空间，将通过 roster 本身来设置 `rack-id` 配置。有关更多详细信息，请参考 [Configure Rack-Aware in Strong Consistency Mode](https://docs.aerospike.com/docs/operations/configure/consistency/index.html#configuring-rack-aware) 。 <br/> `rack-id 1` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;rack-id=1"` 一次为多个节点设置机架号。注意：为清楚起见，此命令在多行中显示为反斜杠字符\，但您应将其输入为一行。<br/> `asinfo -v "set-config:context=namespace;id=test;rack-id=101" \ with 192.168.10.2 192.168.10.4 192.168.10.5` <br/> 设置机架号以获得较强的一致性。注意：为清楚起见，此命令在多行中显示为反斜杠字符\，但您应将其输入为一行。 <br/> `asinfo -v "roster-set:namespace=test; \nodes=BB9070016AE4202@102,BB9060016AE4202@101, \BB9050016AE4202@101,BB9040016AE4202@101,BB9020016AE4202@102` |
| read-consistency-level-override | off | | Introduced : 3.3.26 | 设置为非默认值时，将覆盖此命名空间的客户端指定的每个 transaction 读取一致性级别。此配置指定在进行中的迁移中进行重复解析时，服务器是否在内部查询记录的不同版本，以确定最新的记录值。 <br/> 值 : `off`, `one`, `all`. <br/> 请参阅, [Strong Consistency Mode](https://docs.aerospike.com/docs/architecture/consistency.html#strong-consistency-mode) 。 <br/> 在配置文件中将读取一致性级别覆盖设置为 one（跳过 duplicate resolution）： <br/> `read-consistency-level-override one`  <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;read-consistency-level-override=one"` <br/> 当迁移正在进行时，启用了强一致性的命名空间始终重复解析，并在返回客户端之前查阅记录的不同潜在版本。因此，此配置不适用于启用了高一致性的命名空间。 |
| read-page-cache | false | storage-engine device | Introduced : 4.3.1 | 如果为true，则在读取 transaction 期间禁用odirect和odsync标志。这使操作系统可以利用页面缓存，并可以帮助某些工作负载类型延迟。在全面投入生产之前，应该对单个节点进行测试或部署。对于`data-in-memory`设置为true的命名空间，不应将此配置设置为true。如果使用原始设备，或者使用 `data-in-memory false`且 `direct-files`或 `commit-to-device` 为 true 的文件存储，则将 `read-page-cache` 设置为 true 可能会很有用。详情参考, [Buffering and Caching in Aerospike](https://discuss.aerospike.com/t/buffering-and-caching-in-aerospike/5623) 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;read-page-cache=true"`  <br/> 当读取工作负载非常均匀（没有热键类型模式）时使用 `read-page-cache` 可能没有好处，并且可能会导致花费不必要的 CPU 周期，通常这可以忽略不计。 <br/> 在此内核上运行的高性能存储子系统可能会受到此设置的不利影响，因为在访问存储子系统之前检查页面缓存可能会受到不利影响。可以考虑使用具有较高`cache_read_pct` 的工作负载，但也应检查增加 `post-write-queue` 配置参数的影响。性能较差的存储子系统（例如，连接到网络的子系统）可能会从禁用odirect和odsync标志中受益匪浅。 |
| `reject-non-xdr-writes` | false | | `Enterprise` Introduced : 5.0.0 | 用于控制非XDR客户端执行的写操作的参数。将其设置为true不允许来自非XDR客户端（任何常规客户端库）的写入。 此参数位于命名空间节中的目标节点或目标节点上，而不是xdr节的dc的名称空间子节中。 此参数对于控制非XDR客户端在不期望的情况下意外写入命名空间很有用，并且可用于仅从XDR客户端进行写入的命名空间。设置为true时，将返回错误代码10，并打勾 `fail_xdr_forbidden` 统计信息。 <br/> `namespace someNameSpaceName {` <br/> `reject-non-xdr-writes true` <br/> `...` <br/> `}` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;reject-non-xdr-writes=true"` |
| `reject-xdr-writes` | false | | `Enterprise` Introduced : 5.0.0 | 用于控制是否接受来自XDR客户端的写入操作的参数。将其设置为true禁止来自XDR客户端（在目标群集）的所有写入，并且仅允许非XDR客户端写入操作。 此参数位于名称空间节中的目标节点或目标节点上，而不是xdr节的dc的名称空间子节中。  此参数对于控制XDR客户端的意外写入很有用。 设置为true时，将返回错误代码10，XDR将不会记录不允许的写入，并且将在远程（目标）群集上标记 `fail_xdr_forbidden` 统计信息。<br/> `namespace someNameSpaceName {` <br/> `reject-xdr-writes true` <br/> `...` <br/> `}` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;reject-xdr-writes=true"` |
| ~~set-delete~~ | false | | `unanimous` Introduced : 3.6.1 Removed : After 3.12 | 从3.12版开始，由info命令 `truncate` 代替。有关详细信息，请参考 [truncate info command](https://docs.aerospike.com/docs/reference/info#truncate) 。将其设置为true将删除命名空间中的指定集合。发生删除后重置为false。有关删除集的更多信息，请参阅 [Managing Sets](https://docs.aerospike.com/docs/operations/manage/sets) <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;set=setname;set-delete=true"` |
| set-disable-eviction | false | set | `unanimous` Introduced : 3.6.1 | 将其设置为true将保护该集免受驱逐。设置此参数不会影响该 set 中记录的TTL。 记录可以具有TTL，并且会照常过期。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;set=setname;set-disable-eviction=true"` <br/>  在 aerospike.conf 中设置 : <br/>  `set set1 {` <br/>  ` set-disable-eviction true`<br/> `}` <br/> 驱逐很可能在启动时发生，因此，良好的做法是，如上所示将受保护的set 输入aerospike.conf中，以防止在冷启动期间驱逐受保护的 set。 | 
| ~~set-enable-xdr~~ | use-default | set | Removed : 5.0.1 | 在Aerospike 5.0中替换为 `ship-only-specified-sets` 和 `ignore-set` 。 特定 set 的参数启用/禁用通过XDR的传送。 <br/> 如果设置为 “use-default”，它将从 `sets-enable-xdr` 继承行为。如果设置为“ true”，则XDR将发送此集合（覆盖 `sets-enable-xdr` ）。如果设置为“ false”，则XDR将不会发送此集合（覆盖 `sets-enable-xdr`）。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;set=setname;set-enable-xdr=true"` |
| ~~set-evict-hwm-count~~ | 0 (Disabled) | set | Removed : 3.6.1 | 在服务器开始从该 set 中清除记录之前，该集中可以保留多少记录。|
| ~~set-stop-write-count~~ | 0 (Disabled) | set | Removed : 3.6.1 | 在服务器开始拒绝对该集合的写入之前，该集合中可能有多少条记录。|
| set-stop-writes-count |  0 (Disabled) | set | Introduced : 3.7.0.1 | 在服务器开始拒绝对该集合的写入之前，该集合中可能有多少条记录。<br/>  仅当记录数达到配置的阈值时，`set-stop-writes-count`参数才会生效。一旦达到阈值，客户端将返回错误代码22(AEROSPIKE_ERR_FAIL_FORBIDDEN）。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;set=setname;set-stop-writes-count=2000"` |
| ~~set-enable-xdr~~ | true | | Removed : 5.0.0 |  在Aerospike 5.0中替换为 `ship-only-specified-sets`。指定XDR是否应将所有 set 都发送到命名空间中。 可以通过 `set-enable-xdr` 参数在设置级别覆盖此设置。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;sets-enable-xdr=true"` |
| ~~si-gc-max-units~~ | 1000 | si | Removed : 3.14.0 | 在3.14.0及更高版本中删除。 请参考 `sindex-gc-period` 和 `sindex-gc-max-rate`。我们在一个周期内进入索引树进行垃圾收集的最大元素数。将 `gc-max-units` 用于动态配置，并将 `si-gc-max-units` 用于配置文件。 <br/> `asinfo -v "set-config:context=namespace;id=; \ indexname=;gc-max-units=10000"` |
| ~~si-gc-period~~ | 1000 | si | Removed : 3.14.0 | 在3.14.0及更高版本中删除。 请参考 `sindex-gc-period` 和 `sindex-gc-max-rate`。索引垃圾回收的两次迭代之间的间隔（以毫秒为单位）。将 `gc-period` 用于动态配置，并将 `si-gc-period` 用于配置文件。 <br/> `asinfo -v "set-config:context=namespace;id=<namespace>; indexname=<index>;gc-period=100"` |
| ~~si-tracing~~ | | si | Removed : 3.14.0 | 指示此索引的全局跟踪级别的值。 |
| single-scan-threads | 4 | | Introduced : 4.7.0 | 一次扫描允许的最大线程数。值范围：1-128。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;single-scan-threads=12"` |
| **stop-writes-pct** | 90 | | | 当内存利用率（在 `memory_used_bytes` 下跟踪）超过此指定百分比时，禁止写入 ： <br/> - 每10秒检查一次此阈值。<br/> - 仍然允许删除，副本写和迁移写。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;stop-writes-pct=95"` <br/> 当命名空间的 devices 之一的可用百分比降至 `min-avail-pct` 时，也不允许写操作。有关将节点置于只读模式的所有不同情况的更多详细信息，请参考 `stop_writes` 和 `clock_skew_stop_writes` 指标。|
| `strong-consistency-allow-expunge` | false | | `Enterprise` Introduced : 4.0 | 设置为 true 时，允许非持久性删除与 `strong-consistency` 一起使用。 清除不 '一致'. <br/> `asinfo -v "set-config:context=namespace;id=bar;strong-consistency-allow-expunge=true"` |
| `tomb-raider-eligible-age` | 86400 | | `Enterprise` Introduced : 3.10 | 保留 tombstones 的秒数，即使发现可以安全删除。这是为了保护群集免受旧记录的影响，以便在离开集群一段时间的节点重新加入集群后可以重新引入旧记录。如果节点离开集群的时间超过了 `tomb-raider-eligible-age`，则应先删除所有数据，然后再将其带回到集群中。默认值为1天。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;tomb-raider-eligible-age=43200"` |
| `tomb-raider-period` | 86400 | | `Enterprise` Introduced : 3.10 | tomb-raider 之间的最短运行时间（以秒为单位）。默认值为 1 天。从 4.3.0 版本开始，将 `tomb-raider-period` 设置为 0 值将停用 Tomb Raider。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;tomb-raider-period=43200"` <br/> 如果在 tomb raider 进行期间动态修改 `tomb-raider-period`，则 tomb raider 将会完成，然后 tomb raider 将进入休眠状态。 |
| `tomb-raider-sleep` | 1000 | storage-engine device or pmem | `Enterprise` Introduced : 3.10.0 (device) 4.8.0 (pmem) | 在磁盘或pmem存储文件上的大块读取之间休眠的微秒数。默认值为1 ms（1000µs）。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;tomb-raider-sleep=2000"` | 
| transaction-pending-limit | 20 | | Introduced : 4.3.1.3 | 可以在队列中等待同一个 key 上工作的最大挂起 transaction 数量。值为 0 将消除限制（无限制），值为 1 则在rw-哈希中最多可以有1个 transaction 在正在进行的 transaction 后面排队。。 此参数上下文在版本4.3.1.3中从 service 移到了 namespace。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;transaction-pending-limit=3"` <br/> 4.3.1.3 之前, 替换为以下运行: <br/> `asinfo -v "set-config:context=service;transaction-pending-limit=3"` <br/> 如果应用程序更频繁地使用少量 key ，则增加此限制。如果超过此值，则溢出事务将失败，并且客户端将收到错误代码 14 Key Busy（在服务器端根据 `fail_key_busy` 统计信息进行跟踪）。|
| truncate-threads | 4 | | Introduced : 4.6.0 | 命名空间用于 truncate 的专用线程数。必须至少为 1， 最多为 128. <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;truncate-threads=6"` <br/> 如果 `truncate-threads` 是动态更改的，它将不会影响任何当前活动的 truncate ，并且将从下一轮 truncate 开始生效。 |
| write-commit-level-override | off | | Introduced : 3.3.26 | 设置为非默认值时，将覆盖此命名空间的客户端指定的每次 transaction 写提交级别。 <br/> 值 : `off`, `all`, `master` <br/> 请参阅[Strong Consistency Mode](https://docs.aerospike.com/docs/architecture/consistency.html#strong-consistency-mode) 下有关SC保证的讨论。<br/> 将 write commit level override 设置为配置文件中的主文件（主文件完成后返回，而无需等待副本文件端）：<br/>  `write-commit-level-override master` <br/> 动态覆盖客户端并将写入提交级别设置为master：<br/> `asinfo -v "set-config:context=namespace;id=namespaceName;write-commit-level-override=master"` <br/> 从3.16.01版本开始，当配置为master时，事务将不会等待副本写ack，从而避免了在 rw hash (`rw_in_progress`) 中接收同一个 key 的多个 transaction 时潜在的延迟增加。 <br/> 如果配置为 all, 则在无法正确复制的情况下（拥有主副本的节点无法到达副本，或者能够到达副本，但没有收到副本的响应），超时将返回给客户端，但 transaction 不会在 master 上回滚，副本端可能有更新，也可能没有更新（根据 transaction在 master 和副本之间中断的确切位置）。有关此机制的详细信息，请参考 `transaction-max-ms`。 <br/> 启用 `strong-consistency` 的命名空间在返回客户端之前始终写入（或尝试写入）所有副本。因此，此配置不适用于 `strong-consistency` 的命名空间。有关强一致性的用例，请参考`strong-consistency`配置参数。 |
| `xdr-bin-tombstone-ttl` | 86400 | | `Enterprise` Introduced : 5.2.0 | 如果将 `bin-policy` 设置为发送已更改的 bin (默认的 `all` 以外的其他策略)，则 bin 删除将创建 bin tombstones 。此参数指定这些 bin tombstones 的 `time-to-live` (以秒为单位)。 0 表示永不过期。TTL过期的 bin tombstones 仅在记录的后序写入操作时才会删除。版本5.2.x中的默认值曾经是0，从5.3开始更改为86400（1天）。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;xdr-bin-tombstone-ttl=600"` | 
| ~~xdr-remote-datacenter~~ | | | Removed : 5.0.0 | 在 aerospike 5.0, 参数替换为 `dc`。将此命名空间转发到的数据中心的名称。应该为将要运送到的每个远程数据中心定义 `xdr-remote-datacenter` 参数。从3.8.1版开始，可以动态设置。数据中心名称在XDR节中定义。 <br/>  `asinfo -v "set-config:context=namespace;id=namespaceName;xdr-remote-datacenter=DC1;action=add"` <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;xdr-remote-datacenter=DC1;action=remove"` <br/> 在5.x之前的版本中动态删除远程数据中心是不安全的。如果必须在这样的旧版本中动态删除数据中心，请联系Aerospike支持以获取进一步。 |
| `xdr-tomb-raider-period` | 120 | | `Enterprise` Introduced : 5.0.0 | `xdr-tomb-raider` 运行之间的最短时间（以秒为单位）。默认值为120秒。这仅适用于 `xdr_tombstones` ，不适用于持久删除中的常规 tombstones 。将 `xdr-tomb-raider-period` 设置为0将停用 `xdr-tomb-raider` 。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;xdr-tomb-raider-period=500"` |
| `xdr-tomb-raider-threads` | 1 | | `Enterprise` Introduced : 5.0.0 | `xdr-tomb-raider` 用来清除 `xdr_tombstones` 的专用线程数。 <br/> `asinfo -v "set-config:context=namespace;id=namespaceName;xdr-tomb-raider-threads=4"` |