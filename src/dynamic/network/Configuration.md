## network 参数配置

| name | default | subcontext | tag | note |
|--- | --- | --- | --- |---|
| channel-bulk-recv-threads | 4 | fabric | Introduced : 3.11.1.1 | 处理通过 bulk channel 到达的集群内消息的线程数。此通道用于重新平衡期间的记录迁移。 <br/> `asinfo -v "set-config:context=network;fabric.channel-bulk-recv-threads=6"` <br/> 最小 : 1 <br/> 最大 : 128.  超过此最大值将阻止服务器启动。|
| channel-ctrl-recv-threads | 4 | fabric | Introduced : 3.11.1.1 | 处理通过 control channel 到达的集群内消息的线程数。此通道用于分发集群成员身份更改事件以及分区迁移控制消息。 <br/> `asinfo -v "set-config:context=network;fabric.channel-ctrl-recv-threads=6"` <br/> 最小 : 1 <br/> 最大 : 128.  超过此最大值将阻止服务器启动。|
| channel-meta-recv-threads | 4 | fabric | Introduced : 3.11.1.1 | 处理通过 meta channel 到达的集群内消息的线程数。在集群更改事件后，此通道用于分发 System Meta Data (SMD) 。 <br/> `asinfo -v "set-config:context=network;fabric.channel-meta-recv-threads=6"` <br/> 最小 : 1 <br/> 最大 : 128.  超过此最大值将阻止服务器启动。|
| channel-rw-recv-threads | 16 | fabric | Introduced : 3.11.1.1 | 处理通过 rw(read/write) channel 到达的集群内消息的线程数。此通道用于 replica writes, proxies, duplicate resolution, and 其他各种集群内记录操作。 <br/> 最小 : 1 <br/> 最大 : 128.  超过此最大值将阻止服务器启动。 <br/> 从 5.1 版开始，配置参数 `channel-rw-recv-threads` 必须是 `channel-rw-recv-pools` 的倍数。 <br/> `asinfo -v "set-config:context=network;fabric.channel-rw-recv-threads=24"` | 
| connect-timeout-ms | 500 | heartbeat | Introduced : 5.3 | 集群中的节点连接超时 （以毫秒为单位）。此超时也适用于建立和接受 TLS 连接。 请注意，此值必须至少为 50，并且不能大于 `heartbeat.interval` 和 `heartbeat.timeout` 乘积的三分之一。 <br/> `asinfo -v 'set-config:context=network;heartbeat.connect-timeout-ms=1200'` | 
| interval | 150 | heartbeat | | 发送心跳的时间间隔（以毫秒为单位）。从版本3.10.0.3开始，间隔可以设置为最小值50和最大值600000（10分钟）。 <br/> 将 `heartbeat.interval` 设置为 250 : <br/> `asinfo -v 'set-config:context=network;heartbeat.interval=250'` <br/> 对于3.9.1之前的版本： <br/> `asinfo -v 'set-config:context=network.heartbeat;interval=250'` <br/> 增加 `heartbeat.interval` 将增加集群对较小网络波动的容忍度， 但是，这样意味着集群对真正的集群事件反应会更慢。如果发生真正的集群事件，则更长的 `heartbeat.interval` 时间将意味着集群需要更长的时间来确认节点已离开，因此可能会对应用程序产生更大的影响。此设置将有助于计算出 quantum interval 。 The quantum interval 是 `heartbeat.timeout` 和 `heartbeat.interval` 乘积的 20% 。在客户端上检测节点故障的总时间为 ： `heartbeat.interval x heartbeat.timeout）+ 20％（heartbeat.interval x heartbeat.timeout）+ Client_tend_interval` 。通常，尽管给定了正确的重试客户端策略设置，客户端仍将能够访问集中中的节点之一，然后可能导致代理到正确的节点。 |
| `mtu` | 0 | heartbeat | `Enterprise` Introduced : 3.9.1 |  对于基础网络，返回心跳系统检测到的最大传输单位 (MTU) 。允许值为任何整数。 |
| protocol | v3 (v. 3.14.0) | heartbeat | `unanimous` | 集群要使用的心跳协议版本。应该为 `v1, v2, v3, none` 之一。协议只能一次在所有节点上更改。在 3.9.1.1 及更低版本中，首先应暂停客户端流量，应将协议设置为 none，然后将协议设置为新版本。 <br/> - v1 = 原始协议版本 <br/> - v2 = 可扩展的集群大小协议版本 （取决于 `paxos-max-cluster-size` ） <br/> - v3 = 改进的集群管理和灵活的集群大小（消除了 `paxos-max-cluster-size` 依赖性）。在版本 3.10.0.3 中引入。 <br/> - none = 仅用于动态更改协议 <br/> 在 3.10.0.3 之后的版本 : <br/> `asinfo -v 'set-config:context=network;heartbeat.protocol=v3'` <br/> 在 3.9.1.1 之前的版本 : <br/> 必须停止客户端流量，将协议更改为 none ，然后将 `heartbeat.protocol` 设置为v2。 <br/> `asinfo -v 'set-config:context=network;heartbeat.protocol=none'` <br/> `asinfo -v 'set-config:context=network;heartbeat.protocol=v2'` |
| timeout | 10 | heartbeat | | 丢失的心跳数，在此之后，远程节点将被宣告死亡。从版本3.11开始，不允许小于3的值，因为这可能会导致非常频繁的超时，从而可能破坏群集的稳定性。 <br/> `asinfo -v 'set-config:context=network;heartbeat.timeout=20'` <br/> 在 3.9.1 之前的版本 : <br/>  `asinfo -v 'set-config:context=network.heartbeat;timeout=20'` <br/> 增加 `heartbeat.interval` 将增加集群对较小网络波动的容忍度， 但是，这样意味着集群对真正的集群事件反应会更慢。如果发生真正的集群事件，则更长的 `heartbeat.interval` 时间将意味着集群需要更长的时间来确认节点已离开，因此可能会对应用程序产生更大的影响。此设置将有助于计算出 quantum interval 。 The quantum interval 是 `heartbeat.timeout` 和 `heartbeat.interval` 乘积的 20% 。在客户端上检测节点故障的总时间为 ： `heartbeat.interval x heartbeat.timeout）+ 20％（heartbeat.interval x heartbeat.timeout）+ Client_tend_interval` 。通常，尽管给定了正确的重试客户端策略设置，客户端仍将能够访问集中中的节点之一，然后可能导致代理到正确的节点。 |
| ~~tls-cert-blacklist~~ | | service | `Enterprise` Introduced : 3.11 Removed : 3.15 | 从3.15版开始，已删除，由tls子节中的 `cert-blacklist` 代替。包含未授权整数序列号的文件的路径。需要吊销未授权证书或将其列入黑名单时，请使用此选项。 <br/> `tls-cert-blacklist <path to file>` <br/> `asinfo -v 'set-config:context=service;tls-cert-blacklist=.../aerospike/blacklist.txt'` |
| ~~tls-protocols~~ | -all,+TLSv1.2 | service | `Enterprise` Introduced : 3.11 Removed : 3.15 | 从3.15版开始，已删除，由tls子节中的 `protocols` 代替。包括的TLS协议版本。 <br/> `tls-protocols  -all,+TLSv1.2` |